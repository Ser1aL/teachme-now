#lesson_page_wrapper
  #navigation_wrapper
    #navigation
      .opened
        = params[:interest_id].blank? ? @interests.first.id : params[:interest_id]
      .left
        - @interests.each do |interest|
          .switch{data: { id: interest.id }}
            .image.is_closed
      .mid
        %ul.root
          - @interests.each do |interest|
            %li{data: { id: interest.id } }
              = link_to t("interests.#{interest.name}"), interest_lessons_path(interest.name, interest)
              %ul.sub
                - interest.sub_interests.each do |sub_interest|
                  %li
                    \-
                    = link_to t("sub_interests.#{sub_interest.name}"), sub_interest_lessons_path(interest.name, interest, sub_interest.name, sub_interest)
    .delimiter
  #lessons
    = render @lessons
    #dynamic
    - if @lessons.count >= Lesson::LESSONS_PER_PAGE
      #load_more_lessons{ data: { page: 2, interest_id: params[:interest_id], sub_interest_id: params[:sub_interest_id], loading_message: t('lesson.loading'), message: t('lesson.load_more') }  }
        = t('lesson.load_more')