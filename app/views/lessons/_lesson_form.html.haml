-# TODO
-# i16e the form
- lesson ||= Lesson.new
- course ||= lesson.course
= lesson.errors.inspect
.lesson_form
  = form_for lesson do |f|
    -# TODO simplify if
    - if params[:course_id]
      = f.hidden_field :course_id, params[:course_id]
    - else
      = f.hidden_field :course_id
    .line
      .full_line_input
        .hint
          = t "lesson_form.name"
        .text_input
          = f.text_field :name
    .line
      .half_line_input
        .hint
          = t "lesson_form.city"
        .select_input
          = f.select :city, APP_CONFIG["supported_cities"].map{ |city| t("lesson_form.#{city.downcase}") }
      .half_line_input
        .hint
          = t "lesson_form.level"
        .select_input
          = f.select :level, skill_level_options(lesson.try(:level))
    .line
      .half_line_input
        .hint
          = t "lesson_form.capacity"
        .select_input
          = f.select :capacity, (1..40).to_a
      .half_line_input
        .hint
          = t "lesson_form.place_price"
        .select_input
          = f.select :place_price, (1..40).map{|i| i * 20}
    .delim
    .line
      .full_line_input
        .hint
          = t "lesson_form.start_date_time"
        .text_input#date_time_input
          = f.text_field :start_datetime
    .line
      .dynamic_input
        .hint
          = t "lesson_form.duration"
        .hours
          = f.select :hours, hours_options(lesson.try(:duration))
        .minutes
          = f.select :minutes, minutes_options(lesson.try(:duration))
        - unless course
          .interest
            = f.select :interest_id, interests.map{ |i| [i.name.capitalize, i.id] }
          .sub_interest
            = f.select :sub_interest_id, lesson.try(:interest) ? lesson.interest.sub_interests.map{ |i| [i.name.capitalize, i.id] } : []
    .delim
    .line
      .full_line_input
        .hint
          = t "lesson_form.description"
        .textarea_input
          = f.text_area :description
    .delim
    .line
      .full_line_input
        .hint
          = t "lesson_form.tease_description"
        .textarea_input
          = f.text_area :tease_description
    .line
      .submit
        = f.submit "Submit"


-#%div
-#  = semantic_form_for(lesson) do |f|
-#    = f.semantic_errors
-#    - if params[:course_id]
-#      = f.input :course_id, as: :hidden, input_html: { value: params[:course_id] }
-#    - else
-#      = f.input :course_id, as: :hidden
-#
-#    = f.input :name
-#    = f.input :city, as: :select, collection: Lesson::SUPPORTED_CITIES.map{ |city| t("lesson_form.#{city}") }
-#    = f.input :level, as: :select, collection: skill_level_options(lesson.try(:level))
-#    = f.input :capacity, as: :number
-#    = f.input :place_price, as: :number
-#    = f.input :start_datetime, as: :datetime_select, start_year: Date.today.year, label: "Start date and time"
-#    Duration
-#    = f.input :hours, as: :select, collection: hours_options(lesson.try(:duration)), prompt: "00 hours", label: false
-#    = f.input :minutes, as: :select, collection: minutes_options(lesson.try(:duration)), prompt: "00 minutes", label: false
-#    - unless course
-#      = f.input :interest, as: :select, collection: interests.map{ |i| [i.name.capitalize, i.id] }
-#      = f.input :sub_interest, as: :select, collection: lesson.try(:interest) ? lesson.interest.sub_interests.map{ |i| [i.name.capitalize, i.id] } : []
-#    = f.input :description, as: :text
-#    = f.input :tease_description, as: :text, input_html: { value: course.try(:tease_description) }
-#    = f.submit




